@import 'variables';

/**
  * Focus state mixin
  * @param {string} $size - 'sm' or 'lg'
  */
@mixin focus-state($size: 'lg') {
  @apply outline-offset-4 outline-2 outline-accent-light;

  &:focus-visible {
    @apply outline;
  }

  @if $size == 'sm' {
    @apply outline-offset-2;
  }

  :global(.dark) & {
    @apply outline-accent-dark;
  }
}

@mixin media($key) {
  @if not map-has-key($breakpoints, $key) {
    @error "Breakpoint #{$key} does not exist in $breakpoints";
  }

  @media (min-width: map-get($breakpoints, $key)) {
    @content;
  }
}

@mixin focused($selectors...) {
  &:hover,
  &:focus-visible {
    @content;
  }

  @if length($selectors) > 0 {
    @each $selector in $selectors {
      @if str-index($selector, ".") == 1 {
        &#{"" + $selector} {
          @content;
        }
      } @else {
        &:#{$selector} {
          @content;
        }
      }
    }
  }
}

@mixin dark {
  :global(.dark) & {
    @content;
  }
}
